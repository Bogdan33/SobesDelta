# SobesDelta
# Калькулятор выражений на C++

Калькулятор для вычисления математических выражений с поддержкой переменных, функций и различных типов скобок.  
Реализован на C++ с использованием алгоритма обратной польской записи (RPN).

## Особенности

- Бинарные операции: `+`, `-`, `*`, `/`, `^` (степень)
- Унарные функции: `sin`, `cos`, `!` (факториал)
- Константы: `PI` (3.141592653589793)
- Переменные (например, `x`, `y`)
- Поддержка скобок: `()`, `[]`, `{}` с проверкой соответствия типов
- Четкие сообщения об ошибках (синтаксис, неопределенные переменные и т.д.)
- Кроссплатформенность (Linux/Windows)

## Требования

- Компилятор C++17 (GCC, Clang, MSVC)
- CMake 3.12+
- Библиотека [CLI11](https://github.com/CLIUtils/CLI11) (автоматически подключается через CMake)

## Использование
"(2 + x) * 2" --var x=3.14

## Поддерживаемые операции
Тип	    Элементы	  Приоритет
Скобки	(), [], {}	 Высший
Функции	sin, cos, !	   4
Степень	  ^    (правоассоциативна)	4
Умножение/Деление	*,   /	3
Сложение/Вычитание	+,   -	2

## Добавление новых функций
Чтобы добавить новую функцию (например, tan):

### Лексер (lexer.cpp):
### Обновите метод parse_identifier():
cpp
if (id == "sin" || id == "cos" || id == "!" || id == "tan") {
    tokens.push_back(std::make_unique<FunctionToken>(id));
}

### Вычислитель (evaluator.cpp):
### Добавьте обработку в handleFunction():
cpp
else if (func.getFunctionName() == "tan") {
    calculationStack.push(tan(arg));
}

### Парсер (parser.cpp):
Убедитесь, что функция имеет правильный приоритет в getPriority().
